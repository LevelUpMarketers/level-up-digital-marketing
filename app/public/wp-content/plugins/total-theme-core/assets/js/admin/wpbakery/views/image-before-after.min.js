!function(){"use strict";if("object"!=typeof vc||"function"!=typeof vc.shortcode_view)return!1;window.vcexBackendViewImageBeforeAfter=vc.shortcode_view.extend({vcexImages:null,changeShortcodeParams:function(e){window.vcexBackendViewImageBeforeAfter.__super__.changeShortcodeParams.call(this,e);const r=this.$el[0],a=r.querySelector(".wpb_element_wrapper");if(!a)return;const t=e.getParam("source"),o=e.getParam("before_img")||e.getParam("primary_image"),c=e.getParam("after_img")||e.getParam("secondary_image"),n=e.getParam("before_img_custom_field")||e.getParam("primary_image_custom_field"),i=e.getParam("after_img_custom_field")||e.getParam("secondary_image_custom_field"),m=`${t}${o}${c}${n}${i}`;if(m===this.vcexImages)return;this.vcexImages=m;const s=new URLSearchParams({action:"vcex_wpb_backend_view",view:"image_before_after",source:t,beforeImage:o,afterImage:c,beforeImageCf:n,afterImageCf:i,post_id:vc_post_id,_vcnonce:window.vcAdminNonce});fetch(window.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:s.toString()}).then((e=>{if(!e.ok)throw new Error("Network response was not ok: "+e.statusText);return e.json()})).then((e=>{let t=r.querySelector(".vcex-backend-view-images");t&&t.parentNode.removeChild(t),e.length&&(t=document.createElement("div"),t.className="vcex-backend-view-images",a.appendChild(t),e.forEach((e=>{const r=document.createElement("img");r.src=e,t.appendChild(r)})))})).catch((e=>{console.error("Error:",e)}))}})}();