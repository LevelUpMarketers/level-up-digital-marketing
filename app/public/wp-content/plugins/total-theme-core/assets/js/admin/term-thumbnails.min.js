!function(){"use strict";const e=()=>{const e=document.querySelector("#wpex_term_thumbnail");if(!e)return;e.value="";const t=document.querySelector("#wpex-term-thumbnail-preview img");t&&t.parentNode.removeChild(t);const n=document.querySelector("#wpex-term-thumbnail-remove");n&&(n.style.display="none")};document.addEventListener("click",(function(e){if(!e.target.closest("#wpex-add-term-thumbnail")||"undefined"==typeof wp)return;e.preventDefault();const t=document.querySelector("#wpex-term-thumbnail-preview img"),n=wp.media({library:{type:"image"},multiple:!1}).on("select",(function(e){const r=n.state().get("selection").first(),o=r.toJSON().id,c=r.toJSON().url,i=document.querySelector("#wpex-term-thumbnail-remove");if(i&&(i.style.display=""),t)t.src=c;else{const e=document.querySelector("#wpex-term-thumbnail-preview");if(e){const t=e.dataset.imageSize||"40",n=document.createElement("img");n.src=c,n.setAttribute("height",t),n.setAttribute("width",t),n.style.marginTop="10px",n.style.objectFit="cover",e.appendChild(n)}}const u=document.querySelector("#wpex_term_thumbnail");u&&(u.value=o)})).open()})),document.addEventListener("click",(function(t){t.target.closest("#wpex-term-thumbnail-remove")&&(t.preventDefault(),e())})),"function"==typeof jQuery&&jQuery(document).ajaxSuccess((function(t,n,r){const o=new URLSearchParams(r.data);o&&o.has("action")&&"add-tag"===o.get("action")&&e()}))}();