document.addEventListener("click",(function(e){const t=e.target.closest("[data-totaltheme-dynamic-templates-migrate-templatera]");if(!t)return;e.preventDefault();const a=t.closest(".totaltheme-admin-notice"),n=a.querySelector(".totaltheme-admin-notice__loader"),s=new XMLHttpRequest,o="action=totaltheme_dynamic_templates_migrate_templatera&nonce="+t.dataset.nonce;confirm("Make sure you have a backup of your site incase anything goes wrong before migrating the Templatera templates.\n\nAdditionally, if you are using a multilingual plugin some of these plugins have issues with the core WordPress set_post_type() function which can cause issues after migration. Polylang seems to work fine from our tests.\n\nProceed with caution.")&&(s.onload=function(){if(4==s.readyState&&200==s.status){var e=this.responseText;if(!e)return t.style.display="",n.style.display="none",void alert("Something wen't wrong, please try again. If you still have issues please contact the theme developer.");if(!(e=JSON.parse(this.responseText)).length)return;n.style.display="none";for(var o="The following templates were migrated:\r\n",i=0;i<e.length;i++)o+="\r\n",o+=e[i];a.style.display="none",alert(o),window.location.reload()}else t.style.display="",n.style.display="none",alert("An error occurred, please contact support for assistance or try again."),console.log(this.responseText)},t.style.display="none",n.style.display="block",s.open("POST",window.ajaxurl,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),s.send(o))}));