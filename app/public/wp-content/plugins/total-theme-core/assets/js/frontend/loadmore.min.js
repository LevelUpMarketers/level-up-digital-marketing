!function(e){"use strict";"function"!=typeof window.vcexLoadMore&&(window.vcexLoadMore=function(o){e(".vcex-loadmore").each((function(){var o=e(this),n=o.find(".vcex-loadmore-button");if(!n.length)return;var t=o.parent().find("> .wpex-row, > .entries, > .vcex-recent-news, .vcex-image-grid, .wpex-post-cards-list, .wpex-post-cards-grid, .wpex-post-cards-flex"),i=t[0],a=!1,s=n.data(),r=s.page+1,l=s.maxPages,d=n.find(".vcex-txt"),c=s.text,p=o.find(".vcex-spinner"),w=s.loadingText,x=s.failedText;const f=s.infiniteScroll;var v="";f||o.css("min-height",o.outerHeight());var u=function(w){if("object"==typeof wpex&&"function"==typeof wpex.equalHeights&&wpex.equalHeights(),"function"==typeof Isotope&&(t.hasClass("vcex-isotope-grid")||t.hasClass("vcex-navbar-filter-grid")||t.hasClass("wpex-masonry-grid"))){var x=Isotope.data(i);x?(x.appended(v),x.layout()):v.css("opacity","")}else v.css("opacity","");t.hasClass("justified-gallery")&&void 0!==e.fn.justifiedGallery&&t.justifiedGallery("norewind"),"object"==typeof wpex&&"function"==typeof wpex.hoverStyles&&wpex.hoverStyles(),"function"==typeof vc_waypoints?vc_waypoints():e(".wpb_animate_when_almost_visible",t).addClass("wpb_start_animation animated"),"function"==typeof window.wpexSliderPro&&window.wpexSliderPro(v),void 0!==e.fn.mediaelementplayer&&v.find("audio, video").mediaelementplayer(),t.trigger("vcexLoadMoreFinished",[v]);var u=e(w.data).find(".vcex-loadmore-button").data();if(s=u||s,f?(o.addClass("wpex-invisible"),p.length&&(p.removeClass("wpex-inline-block"),p.addClass("wpex-invisible wpex-opacity-0"))):p.length&&(p.removeClass("wpex-inline-block"),p.addClass("wpex-hidden")),n.removeClass("wpex-hidden"),n.parent().removeClass("vcex-loading"),d.text(c),!f){var h=v.first().find("a");h.length&&h.eq(0).focus()}r-1==l&&o.hide(),a=!1};n.on("click",(function(l){var c=s.shortcodeParams;if(c.paged=r,!a){a=!0,f?(o.removeClass("wpex-invisible"),p.length&&(p.addClass("wpex-inline-block"),p.removeClass("wpex-invisible wpex-opacity-0"))):p.length&&(p.addClass("wpex-inline-block"),p.removeClass("wpex-hidden")),n.addClass("wpex-hidden"),n.parent().addClass("vcex-loading"),d.text(w);var h={action:"vcex_loadmore_ajax_render",nonce:s.nonce,shortcodeTag:s.shortcodeTag,shortcodeParams:c};e.post(vcex_loadmore_params.ajax_url,h,(function(o){o.success?(r+=1,(v=t.parent().hasClass("vcex-post-type-archive")?e(o.data).find("> .wpex-row > .col, > .wpex-row > .blog-entry, #blog-entries > .blog-entry"):e(o.data).find("> .wpex-row > .vcex-grid-item, > .vcex-recent-news > .vcex-recent-news-entry-wrap, .vcex-image-grid-entry, .wpex-post-cards-entry, .wpex-card-list-divider")).length?(v.css("opacity",0),v.each((function(){var o=e(this);o.hasClass("sticky")&&o.addClass("vcex-duplicate")})),t.append(v),"function"==typeof imagesLoaded?imagesLoaded(i,(function(){u(o)})):u(o),"function"==typeof VcWaypoint&&VcWaypoint.refreshAll(),"function"==typeof Waypoint&&Waypoint.refreshAll()):console.log(o)):(n.text(x),console.log(o))})).fail((function(e,o,n){console.log(e.responseText)}))}return!1}))}))}),"function"!=typeof window.vcexLoadMoreInfiniteScroll&&(window.vcexLoadMoreInfiniteScroll=function(){const o=document.querySelectorAll(".vcex-loadmore--infinite-scroll .vcex-loadmore-button");let n=0;if(!o)return;const t=((e,o=10)=>{let n=null;return(...t)=>{window.clearTimeout(n),n=window.setTimeout((()=>{e.apply(null,t)}),o)}})((t=>{let i=window.scrollY;i>n&&o.forEach((o=>{(o=>{const n=e(o).offset().top,t=n+e(o).outerHeight(),i=e(window).scrollTop(),a=i+e(window).height();return t>i&&n<a})(o)&&o.click()})),n=i}),10);window.addEventListener("scroll",t)}),window.addEventListener("load",(()=>{vcexLoadMoreInfiniteScroll(),vcexLoadMore()}))}(jQuery);