!function(e){"use strict";e(document).ready((function(){e(".wpex-license-activation__form").submit((function(a){a.preventDefault();var i=e(this),t=i.find(".wpex-license-activation__button"),n=i.find(".wpex-license-activation__spinner"),s=t.hasClass("activate")?"activate":"deactivate",c=i.find(".wpex-license-activation__input");e(".wpex-license-activation__notice").hide().removeClass("notice-warning updated notice-error"),e.ajax({type:"POST",url:ajaxurl,data:{action:"wpex_theme_license_form",process:s,license:i.find(".wpex-license-activation__input").val(),nonce:i.find("input#wpex_theme_license_form_nonce").val()},beforeSend:function(){n.addClass("wpex-license-activation__spinner--visible"),t.prop("disabled",!0)},success:function(a){if(n.removeClass("wpex-license-activation__spinner--visible"),t.prop("disabled",!1),a.success)if("activate"===s)c.attr("readonly","readonly"),t.removeClass("activate").addClass("deactivate").val(t.data("deactivate"));else if("deactivate"===s)if(c.attr("placeholder","").removeAttr("readonly"),c.val(""),t.removeClass("deactivate").addClass("activate").val(t.data("activate")),a.clearLicense){var i=window.location.href,l="";l=i.indexOf("?")>-1?i+"&license-cleared=1":i+"?license-cleared=1",window.location=l}else location.reload();a.message&&e(".wpex-license-activation__notice").addClass(a.messageClass).html("<p>"+a.message+"</p>").show()}})}))}))}(jQuery);