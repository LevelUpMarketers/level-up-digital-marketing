!function(e,o){"use strict";"function"!=typeof window.wpexLoadMore&&(window.wpexLoadMore=function(){var n=e(".wpex-load-more");n.length&&n.each((function(){const n=e(this),t=n.parent(".wpex-load-more-wrap"),i=n.find(".theme-button-inner"),a=t.find(".wpex-load-more-spinner"),d=n.data("loadmore");let l=document.querySelector(d.grid);if(l||(l=t.get(0).previousElementSibling),!l)return;const s=e(l),r=d.infinite_scroll||!1;let p=d.page+1,c=!1,w=null,u=d,f=null;r||t.css("min-height",t.outerHeight());var x=function(){var l=s.find("[data-count]");if(l.length&&(u.count=parseInt(l.data("count")),l.remove()),"object"==typeof wpex&&void 0!==wpex.equalHeights&&wpex.equalHeights(),w&&w.appended(f),s.trigger("wpexLoadMoreAddedHidden",[f]),f.css("opacity",1),s.trigger("wpexLoadMoreAddedVisible",[f]),"object"==typeof wpex&&"function"==typeof wpex.hoverStyles&&wpex.hoverStyles(),"function"==typeof window.wpexSliderPro&&wpexSliderPro(f),void 0!==e.fn.mediaelementplayer&&f.find("audio, video").mediaelementplayer(),window.dispatchEvent(new CustomEvent("totaltheme_loadmore_posts")),r&&t.addClass("wpex-invisible"),t.removeClass("wpex-loading"),n.removeClass("wpex-hidden"),a.addClass("wpex-hidden"),a.removeClass("wpex-inline-block"),i.text(o.i18n.text),!r){var x=f.first().find("a");x.length&&x.eq(0).focus()}p-1==d.maxPages&&t.hide(),c=!1};n.on("click",(function(){if("undefined"!=typeof Isotope&&(w=Isotope.data(l)),!c){c=!0,r&&t.removeClass("wpex-invisible"),t.addClass("wpex-loading"),n.addClass("wpex-hidden"),a.removeClass("wpex-hidden"),a.addClass("wpex-inline-block"),i.text(o.i18n.loadingText);var m={action:"wpex_ajax_load_more",nonce:d.nonce,page:p,loadmore:u};e.post(o.ajax_url,m,(function(n){n.success?(p+=1,f=e(n.data),f.css("opacity",0),f.each((function(){var o=e(this);o.hasClass("sticky")&&o.addClass("wpex-duplicate"),s.hasClass("wpex-masonry-grid")&&o.addClass("wpex-masonry-col")})),s.append(f),"function"==typeof imagesLoaded?imagesLoaded(l,(function(){x()})):x()):(i.text(o.i18n.failedText),console.log(n))})).fail((function(e,o,n){console.log(e.responseText)}))}return!1}))}))}),"function"!=typeof window.wpexLoadMoreInfiniteScroll&&(window.wpexLoadMoreInfiniteScroll=function(){const o=document.querySelectorAll(".wpex-load-more--infinite-scroll");let n=0;if(!o)return;const t=((e,o=10)=>{let n=null;return(...t)=>{window.clearTimeout(n),n=window.setTimeout((()=>{e.apply(null,t)}),o)}})((t=>{let i=window.scrollY;i>n&&o.forEach((o=>{(o=>{const n=e(o).offset().top,t=n+e(o).outerHeight(),i=e(window).scrollTop(),a=i+e(window).height();return t>i&&n<a})(o)&&o.click()})),n=i}),10);window.addEventListener("scroll",t)}),e(document).ready((function(){wpexLoadMoreInfiniteScroll(),wpexLoadMore()}))}(jQuery,wpex_loadmore_params);