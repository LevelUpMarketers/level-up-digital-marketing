"function"!=typeof window.wpexWcCartDropdown&&(window.wpexWcCartDropdown=function(){const e=document.querySelector("#current-shop-items-dropdown");if(!e)return;let t=null,n=!1,o=!1,s=!1,r=!1;const i='a.toggle-cart-widget,li.toggle-cart-widget > a,li.toggle-header-cart > a,[aria-controls="current-shop-items-dropdown"]',a=e=>e?d():c(),c=()=>{n||r||(n=!0,r=!0,o=!1,e.classList.add("show"),e.classList.remove("wpex-invisible","wpex-opacity-0"),e.setAttribute("tabIndex","0"),t&&(t.classList.add("active"),t.setAttribute("aria-expanded","true")),"function"==typeof jQuery&&jQuery(document).trigger("show.wpex.menuCart"),e.addEventListener("transitionend",(function t(){s=wpex.focusOnElement(e,e),r=!1,e.removeEventListener("transitionend",t)})),e.addEventListener("keydown",l),document.addEventListener("click",p))},d=()=>{n&&!r&&(n=!1,r=!0,e.classList.remove("show"),e.classList.add("wpex-invisible","wpex-opacity-0"),t&&(t.classList.remove("active"),t.setAttribute("aria-expanded","false"),o&&t.focus({preventScroll:!0,focusVisible:!1})),e.removeAttribute("tabIndex"),s&&(s(),s=null),r=!1,e.removeEventListener("keydown",l),document.removeEventListener("click",p))},l=e=>{"Escape"===e.key&&(o=!0,d())};document.querySelectorAll(i).forEach((e=>{e.parentElement.addEventListener("click",(e=>{const n=e.target.closest(i);n&&!n.classList.contains("go-to-shop")&&(e.preventDefault(),t=n,a())})),"A"===e.tagName&&e.parentElement.addEventListener("keydown",(e=>{if(" "===e.key){const n=e.target.closest(i);n&&!n.classList.contains("go-to-shop")&&(e.preventDefault(),t=n,a())}}))}));const p=e=>{e.target.closest("#current-shop-items-dropdown")||d()}}),wpexWcCartDropdown();