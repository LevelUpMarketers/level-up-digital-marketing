window.addComment=function(e){var t,n,i,r=e.document,d={commentReplyClass:"comment-reply-link",commentReplyTitleId:"reply-title",cancelReplyId:"cancel-comment-reply-link",commentFormId:"commentform",temporaryFormId:"wp-temp-form-div",parentIdFieldId:"comment_parent",postIdFieldId:"comment_post_ID"},o=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,l="querySelector"in r&&"addEventListener"in e,a=!!r.documentElement.dataset;function m(){c(),function(){if(!o)return;var e={childList:!0,subtree:!0};new o(y).observe(r.body,e)}()}function c(e){if(l&&(t=f(d.cancelReplyId),n=f(d.commentFormId),t)){t.addEventListener("click",s);var i=function(e){if((e.metaKey||e.ctrlKey)&&"Enter"===e.key)return n.removeEventListener("keydown",i),e.preventDefault(),n.submit.click(),!1};n&&n.addEventListener("keydown",i);for(var o=function(e){var t,n=d.commentReplyClass;e&&e.childNodes||(e=r);t=r.getElementsByClassName?e.getElementsByClassName(n):e.querySelectorAll("."+n);return t}(e),a=0,m=o.length;a<m;a++)o[a].addEventListener("click",p)}}function s(e){var t=f(d.temporaryFormId);if(t&&i){f(d.parentIdFieldId).value="0";var n=t.textContent;t.parentNode.replaceChild(i,t),this.style.display="none";var r=f(d.commentReplyTitleId),o=r&&r.firstChild,l=o&&o.nextSibling;o&&o.nodeType===Node.TEXT_NODE&&n&&(l&&"A"===l.nodeName&&l.id!==d.cancelReplyId&&(l.style.display=""),o.textContent=n),e.preventDefault()}}function p(t){var n=f(d.commentReplyTitleId),i=n&&n.firstChild.textContent,r=this,o=u(r,"belowelement"),l=u(r,"commentid"),a=u(r,"respondelement"),m=u(r,"postid"),c=u(r,"replyto")||i;o&&l&&a&&m&&(c&&c.includes("<span")&&(c=c.split("<span")[0]),!1===e.addComment.moveForm(o,l,a,m,c)&&t.preventDefault())}function y(e){for(var t=e.length;t--;)if(e[t].addedNodes.length)return void c()}function u(e,t){return a?e.dataset[t]:e.getAttribute("data-"+t)}function f(e){return r.getElementById(e)}return l&&"loading"!==r.readyState?m():l&&e.addEventListener("DOMContentLoaded",m,!1),{init:c,moveForm:function(o,l,a,m,c){var s=f(o);i=f(a);var p,y,u,v=f(d.parentIdFieldId),I=f(d.postIdFieldId),C=f(d.commentReplyTitleId),h=C&&C.firstChild,E=h&&h.nextSibling;if(s&&i&&v){void 0===c&&(c=h&&h.textContent),function(e){var t=d.temporaryFormId,n=f(t),i=f(d.commentReplyTitleId),o=i?i.firstChild.textContent:"";if(n)return;(n=r.createElement("div")).id=t,n.style.display="none",n.textContent=o,e.parentNode.insertBefore(n,e)}(i),m&&I&&(I.value=m),v.value=l,t.style.display="",s.parentNode.insertBefore(i,s.nextSibling),h&&h.nodeType===Node.TEXT_NODE&&(E&&"A"===E.nodeName&&E.id!==d.cancelReplyId&&(E.style.display="none"),h.textContent=c),t.onclick=function(){return!1};try{for(var b=0;b<n.elements.length;b++)if(p=n.elements[b],y=!1,"getComputedStyle"in e?u=e.getComputedStyle(p):r.documentElement.currentStyle&&(u=p.currentStyle),(p.offsetWidth<=0&&p.offsetHeight<=0||"hidden"===u.visibility)&&(y=!0),"hidden"!==p.type&&!p.disabled&&!y){p.focus();break}}catch(e){}return!1}}}}(window);