!function(){wpex.offCanvas={instances:{},getInstance:function(e){const t="string"==typeof e?document.querySelector(e):e;if(t){const e=t.id;if(this.instances[e])return this.instances[e]}return null},getOrCreateInstance:function(t){const s=this.getInstance(t);if(!s){const s="string"==typeof t?document.querySelector(t):t;if(s){const t=new e(s);return this.instances[s.id]=t,t}}return s},open:function(e){const t=this.getInstance(e);t&&t.open()},close:function(e){const t=this.getInstance(e);t&&t.close()},closeAll:function(){for(const e in this.instances)this.instances.hasOwnProperty(e)&&this.instances[e].close()}};class e{constructor(e){this.offCanvasElement=e,this.cleanupFocusTrap=!1,this.toggle=!1,this.isOpen=!1,this.speed=window.matchMedia("(prefers-reduced-motion: reduce)").matches?0:parseInt(e.getAttribute("data-wpex-off-canvas-speed")),this.isUnderHeader=this.offCanvasElement.classList.contains("wpex-off-canvas--under-header"),this.visibilityClass=this.offCanvasElement.getAttribute("data-wpex-off-canvas-visibility"),this.hasBackdrop="false"!==this.offCanvasElement.getAttribute("data-wpex-off-canvas-backdrop"),this.closeButton=this.offCanvasElement.querySelector(".wpex-off-canvas__close"),this.#e(),this.hasBackdrop&&this.#t(),this.#s(),this.#i(),this.closeButton&&(this.handleCloseClick=this.#n.bind(this)),this.isUnderHeader&&(this.handleClickOutside=this.#o.bind(this),this.handleOnResize=function(e,t){let s;return function(...i){clearTimeout(s),s=setTimeout((()=>e.apply(this,i)),t)}}(this.#a.bind(this),300)),this.handleKeydown=this.#c.bind(this),this.handleWpexBeforeScrollTo=this.#l.bind(this)}#s(){this.offCanvasElement.querySelectorAll("template").forEach((e=>{e.parentElement.append(e.content),e.remove()}))}#e(){const e=document.getElementById("outer-wrap");if(e&&e.contains(this.offCanvasElement)){if(!this.visibilityClass&&!document.body.classList.contains("compose-mode")){const e=this.offCanvasElement.closest(".vc_row");if(e){const t=["hidden-desktop-large","hidden-desktop","visible-phone","visible-phone-small"];for(const s of t)if(e.classList.contains(s)){this.visibilityClass=s,this.offCanvasElement.classList.add(s);break}}}e.parentNode.insertBefore(this.offCanvasElement,e.nextSibling)}}#t(){const e=document.createElement("div");if(e.id=`${this.offCanvasElement.id}-backdrop`,e.className="wpex-off-canvas-backdrop wpex-fixed wpex-inset-0 wpex-bg-backdrop wpex-z-backdrop wpex-invisible wpex-opacity-0",this.isUnderHeader&&e.classList.add("wpex-off-canvas-backdrop--under-header"),this.visibilityClass&&e.classList.add(this.visibilityClass),this.speed){[75,100,150,200,250,300,350,400,500,600,700,1e3].includes(this.speed)?e.classList.add(`wpex-duration-${this.speed}`):e.style.transitionDuration=`${this.speed}ms`}document.body.appendChild(e),this.backdrop=e}#i(){document.addEventListener("click",(e=>{const t=e.target;t===this.backdrop&&this.close();const s=t.closest(`[data-wpex-toggle="off-canvas"][aria-controls="${this.offCanvasElement.id}"]`);s&&(e.preventDefault(),this.toggle=s,this.toggleState())})),document.addEventListener("keydown",(e=>{if(" "===e.key){const t=e.target.closest(`[data-wpex-toggle="off-canvas"][aria-controls="${this.offCanvasElement.id}"]`);t&&(e.preventDefault(),this.toggle=t,this.open())}}))}#r(){this.closeButton&&this.closeButton.addEventListener("click",this.handleCloseClick),this.isUnderHeader&&(document.addEventListener("click",this.handleClickOutside),window.addEventListener("resize",this.handleOnResize)),this.offCanvasElement.addEventListener("keydown",this.handleKeydown),document.addEventListener("wpex:beforeScrollTo",this.handleWpexBeforeScrollTo)}#d(){this.closeButton&&this.closeButton.removeEventListener("click",this.handleCloseClick),this.isUnderHeader&&(document.removeEventListener("click",this.handleClickOutside),window.removeEventListener("resize",this.handleOnResize)),this.offCanvasElement.removeEventListener("keydown",this.handleKeydown),document.removeEventListener("wpex:beforeScrollTo",this.handleWpexBeforeScrollTo)}#n(e){this.close()}#o(e){if(this.isOpen&&this.isUnderHeader){const t=e.target;t.closest(`[data-wpex-toggle="off-canvas"][aria-controls="${this.offCanvasElement.id}"]`)||this.offCanvasElement.contains(t)||this.close()}}#a(e){this.setTopOffset()}#c(e){"Escape"===e.key&&this.close()}#l(e){this.offCanvasElement.contains(e.detail)||this.close()}setTopOffset(){const e=document.querySelector("#site-header");if(e){const t=e.getBoundingClientRect().bottom;document.body.style.setProperty("--wpex-off-canvas-top-offset",`${t}px`)}}open(){if(!this.isOpen){if(this.isUnderHeader?this.setTopOffset():document.body.style.setProperty("--wpex-off-canvas-top-offset",""),this.isOpen=!0,document.body.classList.add("wpex-off-canvas-is-open"),this.offCanvasElement.classList.add("wpex-off-canvas--open"),this.offCanvasElement.classList.remove("wpex-invisible"),this.offCanvasElement.style.transform="none",this.backdrop&&(this.backdrop.classList.remove("wpex-invisible","wpex-opacity-0"),this.backdrop.classList.add("wpex-opacity-100")),this.toggle){const e=this.toggle.querySelector(".wpex-hamburger-icon--animate");e&&(e.classList.remove("wpex-hamburger-icon--innactive"),e.classList.add("wpex-hamburger-icon--active")),this.toggle.setAttribute("aria-expanded","true")}if(wpex.htmlNoScroll("add"),this.speed){const e=t=>{this.setFocus(),this.offCanvasElement.removeEventListener("transitionend",e)};this.offCanvasElement.addEventListener("transitionend",e)}else this.setFocus();this.#r()}}close(){if(this.isOpen){if(this.isOpen=!1,document.body.classList.remove("wpex-off-canvas-is-open"),this.offCanvasElement.classList.remove("wpex-off-canvas--open"),this.offCanvasElement.classList.add("wpex-invisible"),this.offCanvasElement.style.transform="",this.backdrop&&(this.backdrop.classList.add("wpex-opacity-0","wpex-invisible"),this.backdrop.classList.remove("wpex-opacity-100")),this.toggle){const e=this.toggle.querySelector(".wpex-hamburger-icon--animate");e&&(e.classList.add("wpex-hamburger-icon--innactive"),e.classList.remove("wpex-hamburger-icon--active")),this.toggle.setAttribute("aria-expanded","false"),this.toggle.focus({preventScroll:!0,focusVisible:!1}),this.toggle=!1}wpex.htmlNoScroll("remove"),this.cleanupFocusTrap&&(this.cleanupFocusTrap(),this.cleanupFocusTrap=!1),this.#d()}}setFocus(){let e="";this.offCanvasElement.hasAttribute("data-wpex-off-canvas-open-focus")&&(e=this.offCanvasElement.querySelector(this.offCanvasElement.getAttribute("data-wpex-off-canvas-open-focus"))),this.cleanupFocusTrap=wpex.focusOnElement(this.offCanvasElement,e)}toggleState(){this.isOpen?this.close():this.open()}}document.querySelectorAll(".wpex-off-canvas").forEach((e=>{wpex.offCanvas.getOrCreateInstance(e)}))}();