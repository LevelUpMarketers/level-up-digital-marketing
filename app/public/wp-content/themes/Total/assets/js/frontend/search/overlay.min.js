!function(){let e=!1,t=!1,r=!1,s=!1,a=!1;const o=document.querySelector("#wpex-searchform-overlay"),n=o.querySelector('input[type="search"]'),c=()=>e?l():i(),i=()=>{e||a||(e=!0,r=!1,a=!0,document.body.classList.add("header-search-is-open"),o.classList.add("active"),o.classList.remove("wpex-invisible","wpex-opacity-0"),wpex.htmlNoScroll("add"),t&&(t.setAttribute("aria-expanded","true"),t.closest("li")?.classList.add("active")),"function"==typeof jQuery&&jQuery(document).trigger("show.wpex.menuSearch"),o.addEventListener("transitionend",(function e(){s=wpex.focusOnElement(o,n),a=!1,o.removeEventListener("transitionend",e)})),document.addEventListener("click",d),o.addEventListener("keydown",v))},l=()=>{e&&!a&&(e=!1,a=!0,document.body.classList.remove("header-search-is-open"),o.classList.remove("active"),o.classList.add("wpex-invisible","wpex-opacity-0"),t&&(t.setAttribute("aria-expanded","false"),t.closest("li")?.classList.remove("active"),r&&t.focus({preventScroll:!0,focusVisible:!1})),o.addEventListener("transitionend",(function e(){wpex.htmlNoScroll("remove"),a=!1,o.removeEventListener("transitionend",e)})),document.removeEventListener("click",d),o.removeEventListener("keydown",v),s&&(s(),s=null))},d=t=>{e&&!t.target.closest(".searchform--overlay,a.search-overlay-toggle,a.mobile-menu-search,li.search-overlay-toggle > a,.wpex-header-search-icon button")&&l()},v=e=>{"Escape"===e.key?(r=!0,l()):!e.target.closest(".wpex-fs-overlay__close")||" "!==e.key&&"Enter"!==e.key||(r=!0)};document.querySelectorAll('a.search-overlay-toggle,a.mobile-menu-search,li.search-overlay-toggle > a,[aria-controls="wpex-searchform-overlay"]').forEach((e=>{e.addEventListener("click",(r=>{t=e,r.preventDefault(),c()})),e.addEventListener("keydown",(r=>{" "===r.key&&(t=e,r.preventDefault(),c())}))}))}();